(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{28:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);n(28);var c=n(0),a=n.n(c),i=n(13),o=n(6),r=n(9),s=n(2),u=n(1),l=function(){return Object(u.jsxs)("div",{className:"logo",children:[Object(u.jsx)("img",{src:"./img/logo192.png",alt:"logo"}),Object(u.jsx)("h3",{children:"The World"})]})},j=function(){return Object(u.jsxs)("div",{className:"navigation",children:[Object(u.jsx)(r.b,{exact:"true",to:"/",className:"nav-active",children:"Accueil"}),Object(u.jsx)(r.b,{exact:"true",to:"/news",className:"nav-active",children:"News"}),Object(u.jsx)(r.b,{exact:"true",to:"/a-propos",className:"nav-active",children:"\xc0 propos"})]})},d=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)(j,{}),Object(u.jsx)(l,{}),Object(u.jsx)("h1",{children:"\xc0 propos"}),Object(u.jsx)("br",{}),Object(u.jsx)("p",{children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolorem, similique rerum. Totam delectus unde asperiores in dolorem. Itaque natus dolore provident fugit enim, porro quasi expedita labore fuga, ea architecto magni cupiditate tempore excepturi harum ducimus, error deserunt temporibus ullam? Quia quos rerum esse atque quibusdam eaque qui accusantium suscipit deleniti eum assumenda perferendis ratione sint expedita aperiam, magni beatae?"}),Object(u.jsx)("br",{}),Object(u.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Cum nobis deserunt nulla facere pariatur dolore porro similique nisi mollitia quod. Facere voluptatum atque consequuntur! Incidunt eveniet magni dolorum ratione eaque explicabo, natus beatae odio inventore distinctio dignissimos. Incidunt hic corporis ut in numquam dolor! Ipsum, veniam, a voluptates voluptatibus explicabo repudiandae molestias, reiciendis porro deserunt fuga non magni dolor unde est dolorem soluta mollitia. Earum alias quod aut maxime ex dignissimos eius laudantium molestias dolore, neque sed nostrum? Distinctio quam aperiam maxime quos sint animi eius unde iusto similique. Placeat voluptas beatae, veniam fuga vident iure error? Ut, nemo."})]})},b=n(3),p=function(e){var t,n=e.country;return Object(u.jsxs)("li",{className:"card",children:[Object(u.jsx)("img",{src:n.flags.png,alt:"flag"}),Object(u.jsx)("div",{className:"data-container",children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:n.name.common}),Object(u.jsx)("li",{children:n.capital}),Object(u.jsxs)("li",{children:["Pop. ",(t=n.population,t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "))]})]})})]})},h=function(){var e=Object(c.useState)(40),t=Object(b.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(""),r=Object(b.a)(i,2),s=r[0],l=r[1],j=Object(o.c)((function(e){return e.countries.data}));return Object(u.jsxs)("div",{className:"countries",children:[Object(u.jsxs)("div",{className:"sort-container",children:[Object(u.jsx)("input",{type:"range",min:"1",max:"250",value:n,onChange:function(e){return a(e.target.value)}}),Object(u.jsx)("ul",{children:["Africa","America","Asia","Europe","Oceania"].map((function(e){return Object(u.jsxs)("li",{children:[Object(u.jsx)("input",{type:"radio",value:e,id:e,checked:e===s,onChange:function(e){return l(e.target.value)}}),Object(u.jsx)("label",{htmlFor:e,children:e})]},e)}))})]}),Object(u.jsx)("div",{className:"cancel",children:s&&Object(u.jsx)("h5",{onClick:function(){return l("")},children:"Annuler recherche"})}),Object(u.jsx)("ul",{className:"countries-list",children:j.length>0&&j.filter((function(e){return e.region.includes(s)})).sort((function(e,t){return t.population-e.population})).filter((function(e,t){return t<n})).map((function(e){return Object(u.jsx)(p,{country:e},e.name.common)}))})]})},O=function(){return Object(u.jsxs)("div",{className:"home",children:[Object(u.jsx)(j,{}),Object(u.jsx)(l,{}),Object(u.jsx)(h,{})]})},m=n(8),x=n.n(m),f="GET_NEWS_DATA",g="ADD_NEWS_DATA",v="EDIT_NEWS_DATA",y="EDIT_NEWS_DATA",N="GET_COUNTRIES_DATA",w=function(){return console.log("getNews"),function(e){return x.a.get("http://localhost:5000//api").then((function(t){console.log("getNews:",t.data),e({type:f,payload:t.data.dbNews})})).catch((function(e){return console.log(e)}))}},q=function(e){var t=e.id,n=Object(o.b)(),c=function(){n(function(e){return console.log("deleteOne",e),function(t){return x.a.delete("http://localhost:5000//api"+e).then((function(e){console.log("deleteOne",e.data),t({type:y,payload:e.data.dbNews})})).catch((function(e){return console.log(e)}))}}(t))};return Object(u.jsx)("button",{onClick:function(){window.confirm("Voulez-vous supprimer cet article ?")&&c()},children:"Supprimer"})},A=function(e){var t=e.article,n=Object(c.useState)(!1),a=Object(b.a)(n,2),i=a[0],r=a[1],s=Object(c.useState)(""),l=Object(b.a)(s,2),j=l[0],d=l[1],p=Object(o.b)();return Object(u.jsxs)("div",{className:"article",style:{background:i?"#f3feff":"white"},children:[Object(u.jsx)("div",{className:"card-header",children:Object(u.jsx)("h3",{children:t.title})}),i?Object(u.jsx)("textarea",{onChange:function(e){return d(e.target.value)},autoFocus:!0,defaultValue:j||t.content}):Object(u.jsx)("p",{children:j||t.content}),Object(u.jsx)("br",{}),Object(u.jsxs)("em",{children:["By: ",t.author]}),Object(u.jsxs)("div",{className:"btn-container",children:[i?Object(u.jsx)("button",{type:"submit",onClick:function(){var e,n;p((e=t._id,n={title:t.title,author:t.author,content:j||t.content,date:t.date},console.log("editNews",e),function(t){return x.a.put("http://localhost:5000/"+"/api/".concat(e),n).then((function(e){console.log("editNews",e.data),t({type:v,payload:e.data.dbNews})})).catch((function(e){return console.log(e)}))})),r(!1)},children:"Valider"}):Object(u.jsx)("button",{onClick:function(){return r(!0)},children:"Edit"}),Object(u.jsx)(q,{id:t._id})]})]})},D=n(10),S=n(26),C=n(27),T=n(7),E={flash:"",newsData:[]};var _={data:[]};var k=Object(D.combineReducers)({article:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:case g:case v:case y:return Object(T.a)(Object(T.a)({},e),{},{flash:t.payload.message,newsData:t.payload});default:return e}},countries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;return t.type===N?{data:t.payload}:e}}),I=Object(D.createStore)(k,Object(S.composeWithDevTools)(Object(D.applyMiddleware)(C.a))),F=function(){var e=Object(o.b)(),t=function(){e((console.log("deleteMany"),function(e){return x.a.delete("http://localhost:5000//api").then((function(t){console.log("deleteMany",t.data),e({type:y,payload:t.data.dbNews})})).catch((function(e){return console.log(e)}))}))};return Object(u.jsxs)("button",{onClick:function(){window.confirm("Voulez-vous supprimer tous les articles ?")&&t()},children:[Object(u.jsx)("span",{children:"\u26a0"}),"Remove All",Object(u.jsx)("span",{children:"\u26a0"})]})};I.dispatch(w());var W=function(e){var t=Object(c.useState)(""),n=Object(b.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)(""),s=Object(b.a)(r,2),d=s[0],p=s[1],h=Object(c.useState)(""),O=Object(b.a)(h,2),m=O[0],f=O[1],v=Object(o.c)((function(e){return e.article.newsData})),y=function(e){var t;e.preventDefault(),I.dispatch((t={title:d,author:a,content:m,date:Date.now()},console.log("create"),function(e){return x.a.post("http://localhost:5000//api",t).then((function(t){console.log("create",t.data),e({type:g,payload:t.data.dbNews})})).catch((function(e){return console.log(e)}))})),p(""),i(""),f("")};return Object(u.jsxs)("div",{className:"news-container",children:[Object(u.jsx)(j,{}),Object(u.jsx)(l,{}),Object(u.jsx)("h1",{children:"News"}),Object(u.jsxs)("form",{onSubmit:function(e){return y(e)},children:[Object(u.jsx)("input",{onChange:function(e){return p(e.target.value)},type:"text",placeholder:"Titre",value:d}),Object(u.jsx)("input",{onChange:function(e){return i(e.target.value)},type:"text",placeholder:"Auteur",value:a}),Object(u.jsx)("textarea",{onChange:function(e){return f(e.target.value)},placeholder:"Contenu",value:m}),Object(u.jsx)("input",{type:"submit",value:"Envoyer"}),Object(u.jsx)("br",{}),Object(u.jsx)(F,{})]}),Object(u.jsx)("ul",{children:v.length>0&&v.map((function(e){return Object(u.jsx)(A,{article:e},e._id)}))})]})},B=function(){return Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:"Erreur 404"})})},L=function(){return Object(u.jsx)(r.a,{children:Object(u.jsxs)(s.c,{children:[Object(u.jsx)(s.a,{path:"/",exact:!0,element:Object(u.jsx)(O,{})}),Object(u.jsx)(s.a,{path:"/a-propos",exact:!0,element:Object(u.jsx)(d,{})}),Object(u.jsx)(s.a,{path:"/news",exact:!0,element:Object(u.jsx)(W,{})}),Object(u.jsx)(s.a,{element:Object(u.jsx)(B,{})})]})})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,59)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),i(e),o(e)}))};I.dispatch(w()),I.dispatch((function(e){return x.a.get("https://restcountries.com/v3.1/all").then((function(t){e({type:N,payload:t.data})})).catch((function(e){return console.log(e)}))})),Object(i.render)(Object(u.jsx)(o.a,{store:I,children:Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(L,{})})}),document.getElementById("root")),M()}},[[58,1,2]]]);
//# sourceMappingURL=main.9aca4f66.chunk.js.map